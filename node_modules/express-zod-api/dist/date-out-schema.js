"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ZodDateOut = void 0;
const zod_1 = require("zod");
const common_helpers_1 = require("./common-helpers");
const zodDateOutKind = "ZodDateOut";
class ZodDateOut extends zod_1.ZodType {
    _parse(input) {
        const { status, ctx } = this._processInputParams(input);
        if (ctx.parsedType !== zod_1.ZodParsedType.date) {
            (0, zod_1.addIssueToContext)(ctx, {
                code: zod_1.ZodIssueCode.invalid_type,
                expected: zod_1.ZodParsedType.date,
                received: ctx.parsedType,
            });
            return zod_1.INVALID;
        }
        if (!(0, common_helpers_1.isValidDate)(ctx.data)) {
            (0, zod_1.addIssueToContext)(ctx, {
                code: zod_1.ZodIssueCode.invalid_date,
            });
            return zod_1.INVALID;
        }
        return { status: status.value, value: ctx.data.toISOString() };
    }
}
exports.ZodDateOut = ZodDateOut;
ZodDateOut.create = () => new ZodDateOut({
    typeName: zodDateOutKind,
});
//# sourceMappingURL=date-out-schema.js.map